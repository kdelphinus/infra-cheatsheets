# 서버 네트워크 정보 확인 및 검증 가이드

## 1. 현재 네트워크 정보 확인

### 1-1. IP 및 Subnet Mask 확인

인터페이스 이름(예: `eno1`)을 알고 있을 때 사용합니다.

```bash
# 명령어
ip -4 addr show eno1

# 출력 예시
# 2: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 ...
#     inet 10.10.10.60/24 brd 10.10.10.255 scope global eno1

```

- **분석:** `inet` 뒤에 있는 **`/24`**가 서브넷 마스크(CIDR)입니다.
- **해석:** `/24`는 `255.255.255.0`을 의미합니다. (아래 참조표 확인)

### 1-2. Gateway 확인

외부 네트워크와 통신하기 위한 관문(Gateway) 주소를 확인합니다.

```bash
# 명령어
ip route | grep default

# 출력 예시
# default via 10.10.10.1 dev eno1 proto static

```

- **분석:** `default via` 뒤에 오는 IP(**`10.10.10.1`**)가 게이트웨이 주소입니다.

---

## 2. [참고] CIDR 표기법 대조표 (Subnet Mask Reference)

`ipmitool` 등에는 `/24` 같은 단축 표현 대신,
`255.255.255.0` 같은 **Full Decimal** 형식을 입력해야 할 때가 많습니다.
아래 표를 참고하여 변환합니다.

| CIDR (Prefix) | Subnet Mask (Dotted Decimal) | 비고 |
| --- | --- | --- |
| **/8** | `255.0.0.0` | A Class (대규모 망) |
| **/16** | `255.255.0.0` | B Class |
| **/24** | `255.255.255.0` | **표준 (가장 흔함)** |
| **/25** | `255.255.255.128` | IP 128개 쪼개기 |
| **/26** | `255.255.255.192` | IP 64개 쪼개기 |
| **/27** | `255.255.255.224` | IP 32개 쪼개기 |
| **/28** | `255.255.255.240` | IP 16개 쪼개기 |
| **/29** | `255.255.255.248` | IP 8개 (소규모) |
| **/30** | `255.255.255.252` | P2P 연결용 (IP 4개) |
| **/32** | `255.255.255.255` | 단일 호스트 (IP 1개) |

---

## 3. [보완] 연결 상태 최종 검증 (Connectivity Check)

설정값만 확인하는 것보다, 실제로 통신이 되는지 확인하는 것이 가장 확실합니다.

### 3-1. Gateway 통신 확인 (내부망 연결)

내 서버가 게이트웨이까지 도달하는지 확인합니다.

```bash
# 위에서 확인한 게이트웨이 IP로 핑 테스트
ping -c 3 10.10.10.1

```

- **성공:** `0% packet loss`

### 3-2. 외부 인터넷 연결 확인

외부망 통신이 필요한 경우 확인합니다.

```bash
# 구글 DNS로 핑 테스트
ping -c 3 8.8.8.8

```

### 3-3. DNS 설정 확인

인터넷은 되는데 도메인(`google.com`, `archive.ubuntu.com`)으로 접속이 안 될 때 확인합니다.

```bash
# DNS 서버 확인
resolvectl status | grep "DNS Servers"
# 또는
cat /etc/resolv.conf

```
